{% extends "layout.html" %} {% block title %}Обеденное меню{% endblock %} {% block head %} {{ super() }}
<script src="{{ url_for('static', filename='js/angular/angular.min.js') }}"></script>
{% endblock %} {% block body %} {% raw %}
<section class="food" ng-app="food">
	<div class="container" ng-controller="MainController">
		<div class="row">
			<h2>Обеденное меню</h2>
			<div class="col-md-12">


				<table class="table .table-responsive table-striped table-hover food_menu">
					<tbody ng-repeat="i in menus.menu">
						<tr>
							<td colspan="5"><strong>{{ i.category}}</strong>
							</td>
						</tr>
						<tr ng-repeat="j in i.content">
							<td>{{ j.name}}</td>
							<td>
								<button ng-click="minus($parent.$index,$index)" class="btn btn-default btn-sm glyphicon glyphicon-minus"></button>
								<button ng-click="plus($parent.$index,$index)" class="btn btn-default btn-sm glyphicon glyphicon-plus"></button>
							</td>
							<td>
								<input type="text" ng-model="j.count" class="form-control" style="width:60px">
							</td>
							<td>{{ j.weight}}</td>
							<td>{{ j.price }} руб.</td>
						</tr>
					</tbody>
					<tbody>
						<tr>
							<td><strong>Комплекс</strong>
							</td>
							<td>
								<button ng-click="complexMinus()" class="btn btn-default btn-sm glyphicon glyphicon-minus"></button>
								<button ng-click="complexPlus()" class="btn btn-default btn-sm glyphicon glyphicon-plus"></button>
							</td>
							<td colspan="2">
								<input type="text" ng-model="menus.menu_complex.count" class="form-control" style="width:60px">
							</td>
							<td>{{ menus.menu_complex.price}} руб.</td>
						</tr>
						<tr ng-repeat="y in menus.menu_complex.content">
							<td colspan="5">{{y}}</td>
						</tr>

					</tbody>
				</table>

				<div class="row order_form">
					<form id="order_form">

						<div class="col-md-6">
							<h3>Ваш заказ:</h3>
							<ol id="result">
								<li ng-repeat="x in items">
									<span>{{x.id}}</span>
									<span>{{x.count}} шт.</span>
									<span>{{x.idTotal }} руб.</span>
								</li>
							</ol>
							<p>Общая сумма: <span id="total" class="price">{{ total() }} руб.</span>
							</p>
						</div>
						<div class="col-md-6">
							<div class="form-group input_wrap">
								<label for="InputCabinet">№ кабинета*</label>
								<input type="text" class="form-control required" id="InputCabinet" name="cabinet" placeholder="Введите номер кабинета" required>
							</div>
							<div class="form-group input_wrap">
								<label for="InputInitials">Ф.И.О.</label>
								<input type="text" class="form-control" id="InputInitials" name="init" placeholder="Введите Ф.И.О.">
							</div>
							<button id="submit" type="submit" class="btn btn-lg btn-success pull-right" ng-disabled="!items.length">Сформировать заказ</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</section>
{% endraw %} {% endblock %} {% block scripts %}
<script src="{{ url_for('static', filename='libs/Validation/jquery.validate.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/food_menu.js') }}"></script>
<script src="{{ url_for('static', filename='js/angular/app.js') }}"></script>
<script src="{{ url_for('static', filename='js/angular/controllers/MainController.js') }}"></script>
<script src="{{ url_for('static', filename='js/angular/services/foods.js') }}"></script>
{% endblock %}